{% extends 'base.html.twig' %}

{% block title %}Balades
{% endblock %}

{% block body %}
	<div class="balade_show">
		<h1>La balades :
			{{ balade.nameBalade }}
		</h1>
		<div class="block_balade_show">
			<div class="show_balade">
				<h2>Vous avez choisis une balade à
					{{ balade.areaBalade }}
				</h2>

				<p>Durée :
					{{ balade.timeBalade ? balade.timeBalade|date('H:i') : '' }}h
				</p>

				{% for activite in balade.activite %}


					<p>Activités disponible :
						{{activite.nameActivite}}
					</p>
				{% endfor %}

				<a class="btn-dm_show" href="{{ path('balades') }}">Revenir à la liste</a>

			


			</div>
      <div class="photo-balade">
   
					<img src="{{ asset('uploads/photoBalade/' ~ balade.photoBalade ) }}" width="400">
			
				
		</div>
		</div>
	

	</div>
	{# <img class="img_balade_show" src="{{ asset('uploads/photoBalade/' ~ balade.photoBalade ) }}"alt=""> #}
	<div id="map"></div>


	<script type="text/javascript">

		var villes = {
"{{ balade.nameBalade }}": {
"lat": {{ balade.latBalade }},
"lon": {{ balade.lngBalade }}
}

};
console.log({{ balade.latBalade }}, {{ balade.lngBalade }},"{{ balade.nameBalade }}")
// Fonction d'initialisation de la carte


// Créer l'objet "macarte" et l'insèrer dans l'élément HTML qui a l'ID "map"
map = L.map('map').setView([
47.2843726, -2.3951595
], 11);
// Leaflet ne récupère pas les cartes (tiles) sur un serveur par défaut. Nous devons lui préciser où nous souhaitons les récupérer. Ici, openstreetmap.fr
L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', { // Il est toujours bien de laisser le lien vers la source des données
attribution: 'données © OpenStreetMap/ODbL - rendu OSM France',
minZoom: 5,
maxZoom: 15
}).addTo(map);
// Nous parcourons la liste des villes

var marker = L.marker([{{ balade.latBalade }}, {{ balade.lngBalade }}]).addTo(map);
	</script>


</div>{% endblock %}
